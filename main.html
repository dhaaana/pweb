<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Internal CSS -->
    <style>
      body {
        background-color: #212f3d;
      }
      .mycard {
        background-color: #34495e;
        color: #fff;
        transition: 0.3s;
      }
      .mycard:hover {
        transform: scale(1.01);
        border: 1px solid #fff;
      }
      .mycard .card-header {
        background-color: #2c3e50;
        text-align: center;
      }
      .mybtn {
        background-color: #2c3e50;
        border: 0px;
      }
      .mybtn:hover {
        background-color: #2c3e50;
        border: 1px solid #fff;
      }
      .mybtn:focus {
        background-color: #1e2a36;
        border: 1px solid #fff;
        box-shadow: none;
      }
      .hasil {
        height: 0px;
        background-color: #34495e;
        border-radius: 4px;
        transition: 0.3s linear;
      }
      .hasil:hover {
        transform: scale(1.01);
        border: 1px solid #fff;
      }
    </style>
    <!-- Title -->
    <title>Java to Javascript</title>
  </head>
  <body>
    <div class="container">
      <div class="row my-5">
        <!-- Deskripsi -->
        <div class="deskripsi col-sm-5">
          <div class="mycard card shadow-sm">
            <div class="card-header">Java Ke Javascript</div>
            <div class="card-body m-3">
              <h3 class="card-title">Palindrome Terdekat (Week 6)</h3>
              <p>Palindrom/Palindrome adalah kata, rangkaian kata atau bilangan yang terbaca sama, baik dari depan maupun dari belakang.</p>
              <h5>Contoh Palindrome:</h5>
              <ul class="list-unstyled">
                <ul>
                  <li>kasur rusak</li>
                  <li>ibu ratna antar ubi</li>
                  <li>32123</li>
                  <li>1234554321</li>
                </ul>
              </ul>
              <h5>Palindrome Terdekat:</h5>
              <p>
                Menu palindrome di samping hanya menerima bilangan bulat positif dan nol. Fungsi dari menu tersebut sendiri adalah untuk mencarikan bilangan palindrome dengan jarak paling dekat dari bilangan yang dimasukkan oleh pengguna.
              </p>
              <h5>Contoh Palindrome Terdekat:</h5>
              <ul class="list-unstyled">
                <ul>
                  <li>Input: 12, Output: 11</li>
                  <li>Input: 95, Output: 99</li>
                  <li>Input: 662, Output: 666</li>
                  <li>Input: 1024, Output: 1001</li>
                </ul>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-sm">
          <div class="identitas mycard card shadow-sm mb-4">
            <div class="card-body m-auto fw-bold">Ramadhana Rizqy Arifin (5026201133)</div>
          </div>
          <!-- Java Source Code -->
          <div class="source-code mycard card shadow-sm mb-4">
            <div class="card-header">
              <div class="d-flex justify-content-between">
                Java Source Code
                <button class="mybtn btn btn-dark" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" style="background-color: #1c2935">Toggle</button>
              </div>
            </div>
            <div class="card-body collapse m-auto" id="collapseExample">
              <img class="img-fluid" src="source-code.png" alt="" />
            </div>
          </div>
          <!-- Alat Palindrome -->
          <div class="palindrome mycard card shadow-sm">
            <div class="card-header">Palindrome Terdekat</div>
            <div class="card-body m-auto">
              <form>
                <label for="bilangan" class="col-form-label-sm">Masukkan Bilangan</label>
                <input class="form-control" type="number" placeholder="Isi disini" id="bilangan" value="" />
                <div class="row my-2 mx-3">
                  <button type="button" class="mybtn col-sm btn btn-dark mt-3 mx-2" id="tombolku">Cari</button>
                  <button type="button" class="mybtn col-sm btn btn-dark mt-3 mx-2" id="resetku">Reset</button>
                </div>
              </form>
            </div>
          </div>
          <div class="hasil mt-4 shadow-sm" id="hasil">
            <h6 style="text-align: center; color: #fff" id="text-hasil"></h6>
          </div>
        </div>
      </div>
    </div>

    <!-- Javascript -->

    <script>
      $(document).ready(function () {
        $("#tombolku").click(function closestPalindrome() {
          let num = parseInt(document.getElementById("bilangan").value);
          let smallerNum = num - 1;
          let biggerNum = num + 1;

          if (num < 0) {
            $("#text-hasil").text("Bilangan positif aja ya");
            $("#hasil").animate({
              height: "30px",
            });
          } else {
            if (isPalindrome(num.toString()) === false) {
              while (isPalindrome(smallerNum.toString()) === false) {
                smallerNum--;
              }
              while (isPalindrome(biggerNum.toString()) === false) {
                biggerNum++;
              }
              if (Math.abs(num - biggerNum) < Math.abs(num - smallerNum)) {
                console.log(biggerNum);
                $("#text-hasil").text("Palindrome Terdekat: " + biggerNum);
                $("#hasil").animate({
                  height: "30px",
                });
              } else {
                console.log(smallerNum);
                $("#text-hasil").text("Palindrome Terdekat: " + smallerNum);
                $("#hasil").animate({
                  height: "30px",
                });
              }
            } else {
              $("#text-hasil").text("Palindrome Terdekat: " + num);
              $("#hasil").animate({
                height: "30px",
              });
            }
          }
        });

        function isPalindrome(number) {
          let left = 0;
          let right = number.length - 1;

          while (left < right) {
            if (number.charAt(left) !== number.charAt(right)) {
              return false;
            }
            left++;
            right--;
          }
          return true;
        }

        $("#resetku").click(function () {
          $("#text-hasil").text("");
          $("#hasil").animate({
            height: "0px",
          });
          $("#bilangan").val("");
        });
      });
      $("#tombolku").click(function closestPalindrome() {
        let num = parseInt(document.getElementById("bilangan").value);
        let smallerNum = num - 1;
        let biggerNum = num + 1;

        if (num < 0) {
          $("#text-hasil").text("Bilangan positif aja ya");
          $("#hasil").animate({
            height: "30px",
          });
        } else {
          if (isPalindrome(num.toString()) === false) {
            while (isPalindrome(smallerNum.toString()) === false) {
              smallerNum--;
            }
            while (isPalindrome(biggerNum.toString()) === false) {
              biggerNum++;
            }
            if (Math.abs(num - biggerNum) < Math.abs(num - smallerNum)) {
              console.log(biggerNum);
              $("#text-hasil").text("Palindrome Terdekat: " + biggerNum);
              $("#hasil").animate({
                height: "30px",
              });
            } else {
              console.log(smallerNum);
              $("#text-hasil").text("Palindrome Terdekat: " + smallerNum);
              $("#hasil").animate({
                height: "30px",
              });
            }
          } else {
            $("#text-hasil").text("Palindrome Terdekat: " + num);
            $("#hasil").animate({
              height: "30px",
            });
          }
        }
      });

      function isPalindrome(number) {
        let left = 0;
        let right = number.length - 1;

        while (left < right) {
          if (number.charAt(left) !== number.charAt(right)) {
            return false;
          }
          left++;
          right--;
        }
        return true;
      }

      $("#resetku").click(function () {
        $("#text-hasil").text("");
        $("#hasil").animate({
          height: "0px",
        });
        $("#bilangan").val("");
      });
    </script>
  </body>
</html>
